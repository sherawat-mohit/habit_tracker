<link rel="stylesheet" href="/css/weekview.css">

<div id="header-div">
    <h1>Habit Weekly Panel</h1>
    <button type="button" id="daily-view"><a href="/habits/dailyView"><i class="fa fa-calendar" aria-hidden="true"></i>
            Daily View</a></button>
</div>
<div id="instructions">
    <h4>Task status is represented using:</h4>
    <ul>
        <li><b>Green</b><span class="color" style="background-color: green;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> :
            Task Done</li>
        <li><b>Red</b><span class="color" style="background-color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> : Task
            Not Done</li>
        <li><b>Yellow</b><span class="color" style="background-color: yellow;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> :
            Task Not Started</li>
    </ul>
</div>


<div id="habits-div">
    <%for(let habit of habits){%>
        <div id="user-habits">
            <h4>
                <%=habit.name%>
            </h4>
            <%habit.status.reverse().forEach(function(habitstatus){%>
                <div>
                    <p>
                        <%=habitstatus.date%>
                    </p>

                    <%var bgcolor='#fce303' %>
                        <% if(habitstatus.datestatus!=='Not Started' ){%>
                            <%bgcolor=habitstatus.datestatus=='Done'?'green':'red';}%>

                    <button style="background-color:<%=bgcolor%>"><a href="/habits/weeklyView/toggleStatus/?date=<%=habitstatus.date%>&id=<%=habit._id%>">&nbsp;&nbsp;</a></button>
                </div>
                <%})%>
        </div>
        <%}%>
</div>